<!DOCTYPE html>

<html>
<meta charset="utf-8" />

<head>
    <title>Athos Code Generator</title>

	<!-- CSS for Leaflet Map -->
    <style>
        #map {
			position: relative;
            width: 960px;
            height: 500px;
        }
		
		.leaflet-control-container .leaflet-routing-container-hide {
			display: none
		}
    </style>
	
	<!-- CSS for Website -->
	<style>
		.table, th, td {
			width: 960px;
		}
		.alert {
		  position: absolute;
		  margin-top: 12px;
		  margin-left: 60px;
		  width: 900;
		  z-index: 9001;
		}
	</style>
	
	</head>

	<body>
	
		<div id ="container" class="container" style = "margin: auto">
			<h1>Athos Code Generator Prototype</h1>
			<h3 id="info">Click on the map to create nodes, click them again to delete them!</h3>
			
			<div style = "margin: auto">
				<h4 id="info">Routing engine:</h4>
				<input type="radio" name="router" id="osmr" checked> OSM Routing Machine<br>
				<input type="radio" name="router" id="mbox"> Mapbox<br>
				<input type="radio" name="router" id="ghopper"> Graphhopper 
			</div>
			
			<div id="map"></div>	
			</br>
				<table id="table" class="table table-bordered">
				<tr>
					<th> - </th>
				</tr>
				</table>
			<div class="container" style = "width: 50%">
				<button onclick="saveMatrix()" type="button" id="saveMatrix">Download Connection Matrix</button> 
				<a style="color: #000000"> or </a>
				<button onclick="createAthosCode()" type="button" id="createAthos">Update Athos Code</button>
				<a> </a>
				<div class="container" style = "width: 88%">
					<div class="checkbox">
					  <label>
						<input id="useTimes" type="checkbox" data-toggle="toggle">
							Use estimated times as cfactor
					  </label>
					</div>
				</div>
			</div>
			</br>
			<pre id="codeResult" style="width: 960px"></pre>
			</br>
			<button onclick="openInEditor()" type="button" id="createAthos">Open this code in our editor and compile it!</button>
			</br></br>
		</div>
	</body>

	<footer>
	  <p>&emsp;Made by <a href="mailto:felix.vorlaender@mnd.thm.de">Felix Vorlander</a></p>
	   <p>&emsp;<a href="https://github.com/DieseKartoffel/Athos-Code-Generator/">Have a look at the code on GitHub</a></p>
	  <p>&emsp;<a href="https://athos.napier.ac.uk/wordpress/">Read more about the development of this project</a></p>
	  <p>&emsp;<a href="https://www.napier.ac.uk/~/media/worktribe/output-1148980/a-domain-specific-language-for-routing-problems.pdf">Read more about Athos</a></p>
	</footer>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
	<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
    <script src="https://unpkg.com/esri-leaflet@2.2.3/dist/esri-leaflet.js"
    integrity="sha512-YZ6b5bXRVwipfqul5krehD9qlbJzc6KOGXYsDjU9HHXW2gK57xmWl2gU6nAegiErAqFXhygKIsWPKbjLPXVb2g=="
    crossorigin=""></script>
		
	<script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		
	<link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder@2.2.13/dist/esri-leaflet-geocoder.css"
    integrity="sha512-v5YmWLm8KqAAmg5808pETiccEohtt8rPVMGQ1jA6jqkWVydV5Cuz3nJ9fQ7ittSxvuqsvI9RSGfVoKPaAJZ/AQ=="
    crossorigin="">
	<script src="https://unpkg.com/esri-leaflet-geocoder@2.2.13/dist/esri-leaflet-geocoder.js"
    integrity="sha512-zdT4Pc2tIrc6uoYly2Wp8jh6EPEWaveqqD3sT0lf5yei19BC1WulGuh5CesB0ldBKZieKGD7Qyf/G0jdSe016A=="
    crossorigin=""></script>
	
	<script src="js/table2CSV.js"></script>
	<script src="js/codeGenerator.js" defer></script>
</html>